{{ define "main" }}

{{ partial "pageTitle.html" . }}

{{ "<!-- childrensbook single -->" | safeHTML }}
<section class="section">
	<div class="container">
		<div class="row">
			{{ "<!-- childrensbook single content -->" | safeHTML }}
			<div class="col-lg-8 order-lg-2 order-1">
				<img class="img-fluid w-100 mb-60 rounded-top" src="{{ .Params.Image | absURL }}" alt="service">
				<div class="post-content">
					{{ .Content }}
				</div>
				<!-- Paypal Button details -->
				<div class="col-xl-3 text-sm-right text-left order-sm-2 order-3 order-xl-3 col-sm-6 mb-4 mb-xl-0" id="paypal-payment-button">
				</div>
			</div>
		</div>
	</div>
</section>
{{ "<!-- /childrensbook single -->" | safeHTML }}

<!-- Paypal source code-->
<script src="https://www.paypal.com/sdk/js?client-id=Aac5fyneI95qgLiNN8o-Gqck34j7JElr0EZa4tuPLGPWAMDvxry5z3QN-nkRWle6yODohR5CfeUQmkdd&currency=USD"></script>
<script>
  paypal.Buttons({
    createOrder: function(data, actions) {
      // This function sets up the details of the transaction, including the amount and line item details.
      return actions.order.create({
        purchase_units: [{
          amount: {
            value: {{ .Params.price }},
          },
          description: {{ .Params.title }}
        }]
      });
    },
    // Finalize the transaction
    onApprove: function(data, actions) {
      return actions.order.capture().then(function(details) {
        // Show a success message to the buyer
        window.location.replace('{{ .Params.apply_url }}');
      });
    }
  }).render('#paypal-payment-button');
</script>

{{ end }}